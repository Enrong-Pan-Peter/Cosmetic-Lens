---
import BaseLayout from '../../components/layout/BaseLayout.astro';
import AuthGuard from '../../components/auth/AuthGuard.jsx';
import HistoryList from '../../components/history/HistoryList.jsx';
import { getTranslations } from '../../i18n/utils';

const lang = 'zh';
const t = getTranslations(lang);
---

<BaseLayout
  title={t.history.title}
  description="查看你过去的产品分析记录"
  lang={lang}
>
  <div class="max-w-3xl mx-auto px-4 py-10">
    <div class="mb-8">
      <h1 class="text-2xl font-bold text-foreground">{t.history.title}</h1>
      <p class="text-muted-foreground mt-1">{t.history.subtitle}</p>
    </div>
    <AuthGuard client:load lang={lang}>
      <HistoryList client:load lang={lang} translations={t} />
    </AuthGuard>
  </div>
</BaseLayout>
